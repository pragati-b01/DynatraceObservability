âœ… What Is the Goal?

When a TFS release deploys an application to Production, you want to:

Inform Dynatrace that a deployment happened.

Let Dynatrace:

Mark the deployment time

Compare performance before vs after release

Detect anomalies (response time, failure rate, throughput)

Alert or show dashboard difference

This is fully achievable using Dynatrace APIs + TFS Release pipeline integration.

ğŸ§  What You Already Have

You already:

Used Dynatrace API for:

Maintenance windows

Notifications

Availability checks

Have TFS build & release pipeline

Deploy to environments (Dev â†’ Test â†’ Regression â†’ PT â†’ Prod)

So this is just extending what you already know.

ğŸ¯ Correct Architecture Approach
Step 1: Add Deployment Step in TFS Release (Production Stage)

When Production deployment completes:

Add a PowerShell / REST API task that calls Dynatrace API.

ğŸ”¥ What Should We Call in Dynatrace?

You should NOT build comparison logic yourself.

Dynatrace already supports:

âœ… 1. Deployment Event API

This is the correct way.

It allows you to:

Mark deployment time

Attach version number

Attach environment

Attach application ID

Dynatrace automatically:

Detects baseline shift

Detects anomalies

Compares before/after

Correlates errors

ğŸ“Œ Dynatrace API To Use
ğŸ“ API: Events API (Deployment Event)

Endpoint:

POST /api/v2/events/ingest

Documentation concept:
You send a CUSTOM_DEPLOYMENT event

ğŸ§© Example API Call

PowerShell example for TFS:

$headers = @{
  "Authorization" = "Api-Token YOUR_DYNATRACE_TOKEN"
  "Content-Type"  = "application/json"
}

$body = @{
  eventType = "CUSTOM_DEPLOYMENT"
  title = "Production Deployment"
  entitySelector = "type(SERVICE),entityName.equals(\"MyApp-Service\")"
  properties = @{
      "Version" = "1.2.5"
      "Environment" = "Production"
      "DeployedBy" = "TFS"
  }
} | ConvertTo-Json -Depth 5

Invoke-RestMethod -Uri "https://your-env.live.dynatrace.com/api/v2/events/ingest" `
  -Method Post `
  -Headers $headers `
  -Body $body
ğŸ— Where To Add This In TFS?

In Release Pipeline â†’ Production Stage

Add task:

PowerShell Task
OR

REST API Call Task

Place it:
âœ” After deployment completes successfully
âœ” Only if deployment succeeds

Condition:

succeeded()
ğŸ“Š What Happens After That?

Dynatrace will:

Mark release in timeline

Automatically:

Compare response time before vs after

Compare error rate

Detect service degradation

Show change in:

Service flow

Smartscape

Service screen

Trigger problem if abnormal

ğŸš€ Optional: Automatic Performance Comparison

Instead of building your own comparison logic:

Use Dynatrace features:

Automatic baseline detection

Davis AI anomaly detection

Problem notification system

Dashboards filtered by deployment time

You can even:

Create dashboard filtered by "Since last deployment"

ğŸ§ª Advanced Option (If Required)

If management wants custom comparison logic:

You can call:

GET /api/v2/metrics/query

And fetch:

Response time 1 hour before release

Response time 1 hour after release

But this is usually unnecessary because Dynatrace already does it.

ğŸ¯ Final Recommended Solution
âœ” Architecture Summary
TFS Release (Production Stage)
        â†“
PowerShell Task
        â†“
Call Dynatrace Deployment Event API
        â†“
Dynatrace Marks Deployment
        â†“
Dynatrace AI Compares Baseline
        â†“
Alerts + Dashboard
ğŸ“‹ Your Research Deliverable (What You Can Present)

You can summarize to your manager:

Dynatrace supports deployment events via Events API.

We can integrate it with TFS Release via PowerShell task.

Dynatrace automatically compares pre and post performance.

No need to manually build comparison engine.

Alerts and dashboards can be configured.

âš  Important Things To Confirm

You must confirm:

Do we monitor Service level or Process level?

What entitySelector should be used?

SERVICE?

PROCESS_GROUP?

APPLICATION?

Check in Dynatrace:
Service â†’ Properties â†’ Entity ID

ğŸ’¡ Clean Implementation Plan
Phase 1

Integrate deployment event

Validate event appears in Dynatrace

Phase 2

Configure alerting for post-deployment anomalies

Phase 3

Build dashboard comparing:

Last 2 hours before deployment

Last 2 hours after deployment

ğŸ Final Answer to Your Original Discussion

Yes, it is:

Completely doable

Officially supported

Recommended by Dynatrace

Low complexity because you already used APIs

You only need to:

Add API call in TFS Production release

Send CUSTOM_DEPLOYMENT event

Configure monitoring

If you want, I can next:

Write exact TFS PowerShell step ready to copy-paste

Help identify correct entitySelector

Help design dashboard for comparison

Or give a document you can present to your manager
